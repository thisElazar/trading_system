# Tradebot System State - January 5, 2026

> **Status:** Ready for first market open (paper trading)
> **Platform:** Raspberry Pi 5, Python 3.13.5
> **Generated:** 2026-01-05 02:45 ET

---

## Executive Summary

Tradebot is launching its first autonomous trading day on Monday, January 5, 2026. The system runs on a Raspberry Pi 5, executing 7 strategies against the Alpaca paper trading API. This document captures the current system state after a comprehensive review and bug-fix session.

---

## Current Configuration

### Strategies Enabled

| Strategy | Allocation | Run Time (ET) | Notes |
|----------|------------|---------------|-------|
| gap_fill | 10% | 09:31 | First strategy to run |
| mean_reversion | 35% | 10:00 | Largest allocation |
| relative_volume_breakout | 25% | 10:00 | |
| vix_regime_rotation | 10% | 10:30 | Defensive, regime-based |
| vol_managed_momentum | 10% | 10:30 | |
| quality_smallcap_value | 5% | 11:00 | Factor-based |
| factor_momentum | 5% | 11:00 | |

**Disabled:**
- `pairs_trading` - Cash account cannot short
- `sector_rotation` - Not configured

### Account Details

```
Mode: PAPER TRADING
Endpoint: https://paper-api.alpaca.markets
Account: PA3N4NB4CMM0
Equity: ~$96,700
Status: ACTIVE
```

---

## Services Running

| Service | Type | Status | Port/Schedule |
|---------|------|--------|---------------|
| trading-orchestrator | systemd | active | - |
| trading-dashboard | systemd | active | :5050 |
| trading-backup.timer | systemd | active | 5:00 AM daily |
| birthday_monitor.py | nohup | active (PID 33422) | polls every 5 min |

### Service Commands

```bash
# Check status
sudo systemctl status trading-orchestrator
sudo systemctl status trading-dashboard

# Restart
sudo systemctl restart trading-orchestrator

# View logs
journalctl -u trading-orchestrator -f
tail -f logs/orchestrator.log
```

---

## Recent Fixes (January 4, 2026)

### Bug Fixes Applied

| Issue | File | Fix |
|-------|------|-----|
| **Missing Sharpe ratio** | `overnight_runner.py` | Added `oos_sharpe` to INSERT statement |
| **Missing behavior_vector** | `overnight_runner.py` | Added `behavior_vector` column |
| **Missing created_at** | `evolution_engine.py` | Added `created_at` timestamp |
| **Inconsistent cost_model** | `island_model.py` | Standardized to "conservative" |
| **Strategy registration** | `scheduler.py` | All 7 strategies now registered with runners |
| **Timezone handling** | `utils/timezone.py` | Consistent ET timezone usage |

### Backfilled Data

- 87 discovered strategies updated with estimated Sharpe ratios
- All 92 GA-discovered strategies now have complete metrics

---

## Database Schema

### Key Databases

| Database | Location | Purpose |
|----------|----------|---------|
| trades.db | db/trades.db | Signals, executions, positions |
| research.db | db/research.db | GA discoveries, backtests |
| performance.db | db/performance.db | Strategy stats, circuit breaker |

### Key Tables (trades.db)

```sql
-- Signals generated by strategies
signals (id, strategy_name, symbol, direction, price, status, created_at)

-- Paper trade executions
executions (id, signal_id, symbol, fill_price, quantity, slippage)

-- Current positions
positions (id, strategy_name, symbol, direction, entry_price, status)
```

---

## Monitoring

### Birthday Monitor

A Day 1 monitoring script runs independently:

```bash
# Check summary (JSON - easy to parse)
cat logs/birthday_summary.json

# Sample output:
{
  "status": "OK",
  "signals": {"total": 0, "by_strategy": {}},
  "trades": {"executions": 0, "open_positions": 0},
  "errors": 0,
  "api_connected": true,
  "system": {"memory_pct": 37, "cpu_pct": 6.5}
}

# Live monitoring
tail -f logs/birthday_monitor.log

# Kill if needed
pkill -f birthday_monitor
```

### Dashboard

Web dashboard available at `http://<pi-ip>:5050/`

---

## File Structure

```
/mnt/nvme/home/thiselazar/trading_system/
├── config.py                 # Main configuration
├── daily_orchestrator.py     # Main entry point
├── db/                       # SQLite databases
├── logs/                     # Log files
│   ├── orchestrator.log
│   ├── birthday_monitor.log
│   └── birthday_summary.json
├── execution/
│   ├── scheduler.py          # Strategy scheduling
│   ├── signal_tracker.py     # Signal → execution flow
│   └── circuit_breaker.py    # Safety controls
├── strategies/               # Strategy implementations
├── research/
│   └── discovery/            # GA/GP evolution engine
├── scripts/
│   ├── birthday_monitor.py   # Day 1 monitor
│   └── daily_data_refresh.py
└── docs/
    ├── PUNCHLIST.md          # Known issues tracker
    └── SYSTEM_STATE_*.md     # State snapshots
```

---

## GA/GP Discovery System

### Current State

| Metric | Value |
|--------|-------|
| Discovered strategies | 92 |
| Generations evolved | ~10 |
| Status | All "candidate" |
| Promotion threshold | Sortino ≥ 0.8, DSR ≥ 0.80 |

### Running Overnight Evolution

```bash
# Run for 8 hours
nohup python -m research.discovery.overnight_runner --hours 8 \
  > logs/overnight_evolution.log 2>&1 &
```

---

## Known Limitations

1. **Cash Account** - No shorting capability, limits pairs trading and hedging
2. **GA Maturity** - Only ~10 generations evolved, needs 50-100+ for convergence
3. **First Live Day** - Paper trading data will reveal real-world behavior
4. **Pi Resources** - 4GB RAM limits parallel evolution workers

---

## Monday Expectations

### Timeline (ET)

| Time | Event |
|------|-------|
| 05:00 | Database backup runs |
| 09:30 | Market opens |
| 09:31 | `gap_fill` strategy runs |
| 10:00 | `mean_reversion`, `relative_volume_breakout` run |
| 10:30 | `vix_regime_rotation`, `vol_managed_momentum` run |
| 11:00 | `quality_smallcap_value`, `factor_momentum` run |
| 16:00 | Market closes |
| 16:05 | End-of-day summary generated |

### What to Check

1. **Signals generated** - `cat logs/birthday_summary.json`
2. **No errors** - `grep ERROR logs/orchestrator.log`
3. **API connected** - Summary shows `api_connected: true`
4. **Positions opened** - Check dashboard or summary JSON

---

## Quick Commands

```bash
# SSH to Pi
ssh pi@<ip>
cd /mnt/nvme/home/thiselazar/trading_system

# Activate environment
source venv/bin/activate

# Check everything is running
systemctl status trading-orchestrator trading-dashboard
ps aux | grep birthday_monitor

# View today's activity
cat logs/birthday_summary.json
tail -50 logs/orchestrator.log

# Check signals generated
sqlite3 db/trades.db "SELECT strategy_name, COUNT(*) FROM signals GROUP BY strategy_name"

# Emergency stop (if needed)
sudo systemctl stop trading-orchestrator
```

---

## Contact Points

- **Logs:** `logs/orchestrator.log`, `logs/birthday_monitor.log`
- **Config:** `config.py`
- **Issues:** `docs/PUNCHLIST.md`

---

*Happy Birthday, Tradebot!*
